---
next:
  text: 'К содержанию'
  link: '/ml/ml_index'
prev: false
---

# Метрики качества ранжирования

$$a(x) = \text{sign} (b(x) - t)$$
где $b(x)$ - уверенность модели в своей классификации.
![alt](https://i.imgur.com/eYx5DPi.png)

**Ответ**: Доля инверсий (Ниже будет вывод)

### 1. ROC-кривая

Введем 2 новых показателей:

- $FPR = \frac{FP}{FP + TN}$: False Positive Rate (число отрицательных объектов)
- $TPR = \frac{TP}{TP + FN}$: True Positive Rate (число положительных объектов)
Перебираем все возмодные пороги t, рисуем соответствующие TPR и FPR на графике

![alt](https://i.imgur.com/Q48dxKL.png)
Примечание: $AUC-ROC$ : Area Under Curve

### 2. PR - Curve

![alt](https://i.imgur.com/rc9ZNtL.png)

**Замечание 1.** Индекс Джини:
![alt](https://i.imgur.com/H8v5hUy.png)

**Замечание 2.** Метрика $AUC-ROC$ может вводить в заблуждение, если много простых объектов.
![alt](https://i.imgur.com/S50eUTq.png)
> Если будем увеличивать число простых примеров, то метрика продолжить расти, хотя модель не будет улучшаться (AUC-PRC в этом же примере будет плохой, она лучше учитывает баланс классов)
